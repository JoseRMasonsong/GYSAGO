{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jose Raphael\\\\Desktop\\\\COSC_4415\\\\src\\\\pages\\\\Department.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport DepProducts from \"./DepProducts.js\";\nimport DepEmpty from \"./DepEmpty.js\";\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport \"./styles/shop.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Department() {\n  _s();\n  const params = useParams();\n  const [Products, setProducts] = useState([]);\n  const [dep, setDep] = useState('');\n  const [valid, setValid] = useState('');\n  const getProducts = async () => {\n    const category_id = params.cat_id;\n    const sub_category_id = params.sub_cat_id;\n    await axios.post('http://localhost:4000/department', {\n      category_id,\n      sub_category_id\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      if (res.data.validation) {\n        let data = res.data;\n        console.log(data);\n        setProducts(data.rows);\n      } else {\n        setValid('false');\n      }\n    });\n  };\n  const getDepartment = async () => {\n    const category_id = params.cat_id;\n    const sub_category_id = params.sub_cat_id;\n    await axios.post('http://localhost:4000/department-name', {\n      category_id,\n      sub_category_id\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      if (res.data.validation) {\n        let data = res.data;\n        console.log(data);\n        setDep(data.rows[0].NAME);\n      } else {\n        setValid('false');\n      }\n    });\n  };\n  useEffect(() => {\n    getProducts();\n    // eslint-disable-next-line\n    if (Products.validation = true) {\n      getDepartment();\n    }\n  }, []);\n  if (valid === '') {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shopAll\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shopTitle\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: dep\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"products\",\n          children: Products.map(product => /*#__PURE__*/_jsxDEV(DepProducts, {\n            data: product\n          }, product.PRODUCT_ID, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(DepEmpty, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this);\n  }\n}\n_s(Department, \"KmzPUJgjyLRXf6y6Sbkkkhe8J5k=\", false, function () {\n  return [useParams];\n});\n_c = Department;\nvar _c;\n$RefreshReg$(_c, \"Department\");","map":{"version":3,"names":["axios","DepProducts","DepEmpty","useState","useEffect","useParams","jsxDEV","_jsxDEV","Fragment","_Fragment","Department","_s","params","Products","setProducts","dep","setDep","valid","setValid","getProducts","category_id","cat_id","sub_category_id","sub_cat_id","post","headers","then","res","data","validation","console","log","rows","getDepartment","NAME","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","product","PRODUCT_ID","_c","$RefreshReg$"],"sources":["C:/Users/Jose Raphael/Desktop/COSC_4415/src/pages/Department.js"],"sourcesContent":["import axios from \"axios\"\r\nimport DepProducts from \"./DepProducts.js\"\r\nimport DepEmpty from \"./DepEmpty.js\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport \"./styles/shop.css\"\r\n\r\nexport default function Department() {\r\n    const params = useParams()\r\n    const [Products, setProducts] = useState([])\r\n    const [dep, setDep] = useState('')\r\n    const [valid, setValid] = useState('')\r\n\r\n    const getProducts = async() => {\r\n        const category_id = params.cat_id\r\n        const sub_category_id = params.sub_cat_id\r\n\r\n        await axios.post('http://localhost:4000/department', {category_id, sub_category_id}, {headers: {'Content-Type': 'application/json'}})\r\n        .then(res => {\r\n            if(res.data.validation){\r\n                let data = res.data\r\n                console.log(data)\r\n                setProducts(data.rows)\r\n            }else{\r\n                setValid('false')\r\n            }\r\n        })\r\n    }\r\n\r\n    const getDepartment = async() => {\r\n        const category_id = params.cat_id\r\n        const sub_category_id = params.sub_cat_id\r\n\r\n        await axios.post('http://localhost:4000/department-name', {category_id, sub_category_id}, {headers: {'Content-Type': 'application/json'}})\r\n        .then(res => {\r\n            if(res.data.validation){\r\n                let data = res.data\r\n                console.log(data)\r\n                setDep(data.rows[0].NAME)\r\n            }else{\r\n                setValid('false')\r\n            }\r\n        })\r\n    }\r\n    \r\n    useEffect(() => {\r\n        getProducts()\r\n        // eslint-disable-next-line\r\n        if(Products.validation = true){\r\n            getDepartment()\r\n        }\r\n    }, [])\r\n\r\n    if(valid === ''){\r\n        return (\r\n            <>\r\n                <div className=\"shopAll\">\r\n                    <div className=\"shopTitle\">\r\n                        <h1>{dep}</h1>\r\n                    </div>\r\n                    <div className=\"products\">\r\n                        {Products.map((product) => (\r\n                            <DepProducts data={product} key={product.PRODUCT_ID}/>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }else{\r\n        return (\r\n            <DepEmpty />\r\n        )\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}